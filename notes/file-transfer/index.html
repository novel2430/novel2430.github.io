<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>File Transfer | My Web | Wei, Feng</title>
<meta name="keywords" content="FDS Homework">
<meta name="description" content="7-1 File Transfer We have a network of computers and a list of bi-directional connections. Each of these connections allows a file transfer from one computer to another. Is it possible to send a file from any computer on the network to any other? Input Specification: Each input file contains one test case. For each test case, the first line contains N (2≤N≤104">
<meta name="author" content="">
<link rel="canonical" href="https://www.yejsgk.top/notes/file-transfer/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.9c78afd72529c14d4d3c0fa583c3e82265e0d8a303d475223d3b37442260ba22.css" integrity="sha256-nHiv1yUpwU1NPA&#43;lg8PoImXg2KMD1HUiPTs3RCJguiI=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://www.yejsgk.top/img/favicon/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.yejsgk.top/img/favicon/favicon16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.yejsgk.top/img/favicon/favicon32x32.png">
<link rel="apple-touch-icon" href="https://www.yejsgk.top/img/favicon/apple-touch-icon.png">
<link rel="mask-icon" href="https://www.yejsgk.top/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://www.yejsgk.top/notes/file-transfer/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  

<meta property="og:title" content="File Transfer" />
<meta property="og:description" content="7-1 File Transfer We have a network of computers and a list of bi-directional connections. Each of these connections allows a file transfer from one computer to another. Is it possible to send a file from any computer on the network to any other? Input Specification: Each input file contains one test case. For each test case, the first line contains N (2≤N≤104" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.yejsgk.top/notes/file-transfer/" /><meta property="article:section" content="notes" />
<meta property="article:published_time" content="2024-02-13T18:44:00+08:00" />
<meta property="article:modified_time" content="2024-02-13T18:44:00+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="File Transfer"/>
<meta name="twitter:description" content="7-1 File Transfer We have a network of computers and a list of bi-directional connections. Each of these connections allows a file transfer from one computer to another. Is it possible to send a file from any computer on the network to any other? Input Specification: Each input file contains one test case. For each test case, the first line contains N (2≤N≤104"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Notes",
      "item": "https://www.yejsgk.top/notes/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "File Transfer",
      "item": "https://www.yejsgk.top/notes/file-transfer/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "File Transfer",
  "name": "File Transfer",
  "description": "7-1 File Transfer We have a network of computers and a list of bi-directional connections. Each of these connections allows a file transfer from one computer to another. Is it possible to send a file from any computer on the network to any other? Input Specification: Each input file contains one test case. For each test case, the first line contains N (2≤N≤104",
  "keywords": [
    "FDS Homework"
  ],
  "articleBody": "7-1 File Transfer We have a network of computers and a list of bi-directional connections. Each of these connections allows a file transfer from one computer to another. Is it possible to send a file from any computer on the network to any other?\nInput Specification: Each input file contains one test case. For each test case, the first line contains N (2≤N≤104), the total number of computers in a network. Each computer in the network is then represented by a positive integer between 1 and N. Then in the following lines, the input is given in the format:\nI c1 c2 where I stands for inputting a connection between c1 and c2; or\nC c1 c2 where C stands for checking if it is possible to transfer files between c1 and c2; or\nS where S stands for stopping this case.\nOutput Specification: For each C case, print in one line the word “yes” or “no” if it is possible or impossible to transfer files between c1 and c2, respectively. At the end of each case, print in one line “The network is connected.” if there is a path between any pair of computers; or “There are k components.” where k is the number of connected components in this network.\nSample Input 1: 5 C 3 2 I 3 2 C 1 5 I 4 5 I 2 4 C 3 5 S Sample Output 1: no no yes There are 2 components. Sample Input 2: 5 C 3 2 I 3 2 C 1 5 I 4 5 I 2 4 C 3 5 I 1 3 C 1 5 S Sample Output 2: no no yes yes The network is connected. Code #include #include #define true 1 #define false 0 typedef struct Node{ struct Node* parent; }Node ; // Node op Node* node_init(){ Node* res = (Node*)malloc(sizeof(Node)); res-\u003eparent = res; return res; } Node* node_check_father(Node* node){ if(node-\u003eparent == node) return node; node-\u003eparent = node_check_father(node-\u003eparent); return node-\u003eparent; } Node* node_check_father_non_recursice(Node* node){ // find root Node* root = node; while(root-\u003eparent!=root) root = root-\u003eparent; // set root Node* cur = node; while(cur!=root){ Node* tmp = cur-\u003eparent; cur-\u003eparent = root; cur = tmp; } return root; } void node_build_connect(Node* n1, Node* n2){ if(n1==NULL || n2==NULL) return; node_check_father(n1)-\u003eparent = node_check_father(n2); } int node_is_connect(Node* n1, Node* n2){ Node* n1_father = node_check_father(n1); Node* n2_father = node_check_father(n2); if(n1_father==n2_father) return true; return false; } int count_components(Node** nodes, int size){ int count = 0; for(int i=0; i\u003csize; i++){ if(nodes[i]-\u003eparent==nodes[i]) count++; } return count; } int main(int argc, char *argv[]){ int size; scanf(\"%d\", \u0026size); Node* nodes[size]; for(int i=0; i\u003csize; i++) nodes[i] = node_init(); while(1){ getchar(); char op; scanf(\"%c\", \u0026op); if(op=='S') break; int n1, n2; scanf(\"%d %d\", \u0026n1, \u0026n2); if(op=='C'){ if(node_is_connect(nodes[n1-1], nodes[n2-1])){ printf(\"yes\\n\"); } else printf(\"no\\n\"); } else if(op=='I'){ node_build_connect(nodes[n1-1], nodes[n2-1]); } } int count = count_components(nodes, size); if(count==1) printf(\"The network is connected.\\n\"); else printf(\"There are %d components.\\n\", count); } ",
  "wordCount" : "492",
  "inLanguage": "en",
  "datePublished": "2024-02-13T18:44:00+08:00",
  "dateModified": "2024-02-13T18:44:00+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.yejsgk.top/notes/file-transfer/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "My Web | Wei, Feng",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.yejsgk.top/img/favicon/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.yejsgk.top/" accesskey="h" title="My Web | Wei, Feng (Alt + H)">My Web | Wei, Feng</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://www.yejsgk.top/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="https://www.yejsgk.top/ideas/" title="Ideas">
                    <span>Ideas</span>
                </a>
            </li>
            <li>
                <a href="https://www.yejsgk.top/notes/" title="Notes">
                    <span>Notes</span>
                </a>
            </li>
            <li>
                <a href="https://www.yejsgk.top/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://www.yejsgk.top/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://www.yejsgk.top/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://www.yejsgk.top/">Home</a>&nbsp;»&nbsp;<a href="https://www.yejsgk.top/notes/">Notes</a></div>
    <h1 class="post-title entry-hint-parent">
      File Transfer
    </h1>
    <div class="post-meta"><span title='2024-02-13 18:44:00 +0800 CST'>February 13, 2024</span>&nbsp;·&nbsp;1 min

</div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">Table of Contents</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#7-1-file-transfer" aria-label="7-1 File Transfer">7-1 File Transfer</a><ul>
                            
                    <li>
                        <a href="#input-specification" aria-label="Input Specification:">Input Specification:</a></li>
                    <li>
                        <a href="#output-specification" aria-label="Output Specification:">Output Specification:</a></li>
                    <li>
                        <a href="#sample-input-1" aria-label="Sample Input 1:">Sample Input 1:</a></li>
                    <li>
                        <a href="#sample-output-1" aria-label="Sample Output 1:">Sample Output 1:</a></li>
                    <li>
                        <a href="#sample-input-2" aria-label="Sample Input 2:">Sample Input 2:</a></li>
                    <li>
                        <a href="#sample-output-2" aria-label="Sample Output 2:">Sample Output 2:</a></li>
                    <li>
                        <a href="#code" aria-label="Code">Code</a>
                    </li>
                </ul>
                </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>

  <div class="post-content"><h1 id="7-1-file-transfer">7-1 File Transfer<a hidden class="anchor" aria-hidden="true" href="#7-1-file-transfer">#</a></h1>
<p>We have a network of computers and a list of bi-directional connections. Each of these connections allows a file transfer from one computer to another. Is it possible to send a file from any computer on the network to any other?</p>
<h2 id="input-specification">Input Specification:<a hidden class="anchor" aria-hidden="true" href="#input-specification">#</a></h2>
<p>Each input file contains one test case. For each test case, the first line contains N (2≤N≤10<sup>4</sup>), the total number of computers in a network. Each computer in the network is then represented by a positive integer between 1 and N. Then in the following lines, the input is given in the format:</p>
<pre tabindex="0"><code>I c1 c2
</code></pre><p>where <code>I</code> stands for inputting a connection between <code>c1</code> and <code>c2</code>; or</p>
<pre tabindex="0"><code>C c1 c2
</code></pre><p>where <code>C</code> stands for checking if it is possible to transfer files between <code>c1</code> and <code>c2</code>; or</p>
<pre tabindex="0"><code>S
</code></pre><p>where <code>S</code> stands for stopping this case.</p>
<h2 id="output-specification">Output Specification:<a hidden class="anchor" aria-hidden="true" href="#output-specification">#</a></h2>
<p>For each <code>C</code> case, print in one line the word &ldquo;yes&rdquo; or &ldquo;no&rdquo; if it is possible or impossible to transfer files between <code>c1</code> and <code>c2</code>, respectively. At the end of each case, print in one line &ldquo;The network is connected.&rdquo; if there is a path between any pair of computers; or &ldquo;There are <code>k</code> components.&rdquo; where <code>k</code> is the number of connected components in this network.</p>
<h2 id="sample-input-1">Sample Input 1:<a hidden class="anchor" aria-hidden="true" href="#sample-input-1">#</a></h2>
<pre tabindex="0"><code>5
C 3 2
I 3 2
C 1 5
I 4 5
I 2 4
C 3 5
S
</code></pre><h2 id="sample-output-1">Sample Output 1:<a hidden class="anchor" aria-hidden="true" href="#sample-output-1">#</a></h2>
<pre tabindex="0"><code>no
no
yes
There are 2 components.
</code></pre><h2 id="sample-input-2">Sample Input 2:<a hidden class="anchor" aria-hidden="true" href="#sample-input-2">#</a></h2>
<pre tabindex="0"><code>5
C 3 2
I 3 2
C 1 5
I 4 5
I 2 4
C 3 5
I 1 3
C 1 5
S
</code></pre><h2 id="sample-output-2">Sample Output 2:<a hidden class="anchor" aria-hidden="true" href="#sample-output-2">#</a></h2>
<pre tabindex="0"><code>no
no
yes
yes
The network is connected.
</code></pre><h2 id="code">Code<a hidden class="anchor" aria-hidden="true" href="#code">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#define true 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define false 0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> Node{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">struct</span> Node<span style="color:#f92672">*</span> parent;
</span></span><span style="display:flex;"><span>}Node ;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Node op
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Node<span style="color:#f92672">*</span> <span style="color:#a6e22e">node_init</span>(){
</span></span><span style="display:flex;"><span>  Node<span style="color:#f92672">*</span> res <span style="color:#f92672">=</span> (Node<span style="color:#f92672">*</span>)<span style="color:#a6e22e">malloc</span>(<span style="color:#66d9ef">sizeof</span>(Node));
</span></span><span style="display:flex;"><span>  res<span style="color:#f92672">-&gt;</span>parent <span style="color:#f92672">=</span> res;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> res;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>Node<span style="color:#f92672">*</span> <span style="color:#a6e22e">node_check_father</span>(Node<span style="color:#f92672">*</span> node){
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span>(node<span style="color:#f92672">-&gt;</span>parent <span style="color:#f92672">==</span> node) <span style="color:#66d9ef">return</span> node;
</span></span><span style="display:flex;"><span>  node<span style="color:#f92672">-&gt;</span>parent <span style="color:#f92672">=</span> <span style="color:#a6e22e">node_check_father</span>(node<span style="color:#f92672">-&gt;</span>parent);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> node<span style="color:#f92672">-&gt;</span>parent;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>Node<span style="color:#f92672">*</span> <span style="color:#a6e22e">node_check_father_non_recursice</span>(Node<span style="color:#f92672">*</span> node){
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// find root
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  Node<span style="color:#f92672">*</span> root <span style="color:#f92672">=</span> node;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">while</span>(root<span style="color:#f92672">-&gt;</span>parent<span style="color:#f92672">!=</span>root) root <span style="color:#f92672">=</span> root<span style="color:#f92672">-&gt;</span>parent;
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// set root
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  Node<span style="color:#f92672">*</span> cur <span style="color:#f92672">=</span> node;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">while</span>(cur<span style="color:#f92672">!=</span>root){
</span></span><span style="display:flex;"><span>    Node<span style="color:#f92672">*</span> tmp <span style="color:#f92672">=</span> cur<span style="color:#f92672">-&gt;</span>parent;
</span></span><span style="display:flex;"><span>    cur<span style="color:#f92672">-&gt;</span>parent <span style="color:#f92672">=</span> root;
</span></span><span style="display:flex;"><span>    cur <span style="color:#f92672">=</span> tmp;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> root;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">node_build_connect</span>(Node<span style="color:#f92672">*</span> n1, Node<span style="color:#f92672">*</span> n2){
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span>(n1<span style="color:#f92672">==</span>NULL <span style="color:#f92672">||</span> n2<span style="color:#f92672">==</span>NULL) <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">node_check_father</span>(n1)<span style="color:#f92672">-&gt;</span>parent <span style="color:#f92672">=</span> <span style="color:#a6e22e">node_check_father</span>(n2);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">node_is_connect</span>(Node<span style="color:#f92672">*</span> n1, Node<span style="color:#f92672">*</span> n2){
</span></span><span style="display:flex;"><span>  Node<span style="color:#f92672">*</span> n1_father <span style="color:#f92672">=</span> <span style="color:#a6e22e">node_check_father</span>(n1);
</span></span><span style="display:flex;"><span>  Node<span style="color:#f92672">*</span> n2_father <span style="color:#f92672">=</span> <span style="color:#a6e22e">node_check_father</span>(n2);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span>(n1_father<span style="color:#f92672">==</span>n2_father) <span style="color:#66d9ef">return</span> true;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> false;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">count_components</span>(Node<span style="color:#f92672">**</span> nodes, <span style="color:#66d9ef">int</span> size){
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; i<span style="color:#f92672">&lt;</span>size; i<span style="color:#f92672">++</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(nodes[i]<span style="color:#f92672">-&gt;</span>parent<span style="color:#f92672">==</span>nodes[i]) count<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> count;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>argv[]){
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> size;
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>size);
</span></span><span style="display:flex;"><span>  Node<span style="color:#f92672">*</span> nodes[size];
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; i<span style="color:#f92672">&lt;</span>size; i<span style="color:#f92672">++</span>) nodes[i] <span style="color:#f92672">=</span> <span style="color:#a6e22e">node_init</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">while</span>(<span style="color:#ae81ff">1</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">getchar</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> op;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%c&#34;</span>, <span style="color:#f92672">&amp;</span>op);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(op<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;S&#39;</span>) <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n1, n2;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">scanf</span>(<span style="color:#e6db74">&#34;%d %d&#34;</span>, <span style="color:#f92672">&amp;</span>n1, <span style="color:#f92672">&amp;</span>n2);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(op<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;C&#39;</span>){
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">node_is_connect</span>(nodes[n1<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>], nodes[n2<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>])){
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;yes</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">else</span> <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;no</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(op<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;I&#39;</span>){
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">node_build_connect</span>(nodes[n1<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>], nodes[n2<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> count <span style="color:#f92672">=</span> <span style="color:#a6e22e">count_components</span>(nodes, size);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span>(count<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>) <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;The network is connected.</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">else</span> <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;There are %d components.</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, count);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://www.yejsgk.top/tags/fds-homework/">FDS Homework</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://www.yejsgk.top/">My Web | Wei, Feng</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
